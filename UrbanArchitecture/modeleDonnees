model Image {
  id            String    @id @default(uuid())
  url           String    # URL de l'image (téléversée ou externe)
  type          ImageType # Type d'image (UPLOADED ou URL)
  productId     String?   # Pour les images de produits
  product       Product?  @relation(fields: [productId], references: [id])
  portfolioId   String?   # Pour les images de portfolio
  portfolio     Profile?  @relation(fields: [portfolioId], references: [id])
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
}

model Product {
  id            String    @id @default(uuid())
  name          String
  description   String
  price         Float
  category      Category  @relation(fields: [categoryId], references: [id])
  categoryId    String
  images        Image[]   # Relation avec les images
  stock         Int
  orders        OrderItem[]
}

model Profile {
  id            String    @id @default(uuid())
  userId        String    @unique
  user          User      @relation(fields: [userId], references: [id])
  firstName     String
  lastName      String
  phone         String?
  address       String?
  avatar        String?   # URL de l'avatar
  isProvider    Boolean   @default(false)
  services      Service[]
  portfolio     Image[]   # Relation avec les images du portfolio
  rating        Float?
}

enum ImageType {
  UPLOADED      # Image téléversée sur Cloudinary/S3
  URL          # Image depuis une URL externe
}